<a
  routerLink="/admin/coursecatalog"
  class="text-decoration-none text-secondary mb-3 d-inline-block"
>
  <i class="bi bi-arrow-left"></i> Back to courses
</a>
<div class="d-flex justify-content-between">
  <div class="card-body p-4">
    <h2 class="fw-bold">{{ courseData.title }}</h2>
    <p>{{ courseData.description }}</p>
    <div class="d-flex align-items-center">
      <img src="assets/images/Icon.svg" alt="icon" width="20" height="20" class="me-2" />
      <p class="text-muted mb-0">{{ courseData.authorName.value }}</p>
    </div>
  </div>
  <button
    (click)="navigateToEditCourses()"
    class="btn btn-outline-secondary text-dark h-25 d-flex align-items-center gap-2 me-4">
    <i class="fa-regular fa-pen-to-square"></i> Edit Course
  </button>
</div>

<ul class="nav nav-tabs mb-4">
  <li class="nav-item">
    <button
      class="nav-link"
      [class.active]="activeTab === 'content'"
      (click)="setActiveTab('content')"
    >
      Content
    </button>
  </li>
  <li class="nav-item">
    <button
      class="nav-link"
      [class.active]="activeTab === 'enrolledStudents'"
      (click)="setActiveTab('enrolledStudents')"
    >
      Enrolled Students
    </button>
  </li>
  <li class="nav-item">
    <button
      class="nav-link"
      [class.active]="activeTab === 'resources'"
      (click)="setActiveTab('resources')"
    >
      Resources
    </button>
  </li>
</ul>

<div *ngIf="activeTab === 'content'">
  <div class="card p-4 mb-4">
    <h5 class="fw-bold mb-3">Course Content</h5>
    <ul class="list-group list-group-flush">
      <li
        *ngFor="let lesson of courseData?.Material?.value; let i = index"
        class="list-group-item d-flex justify-content-between align-items-center"
        style="cursor: pointer; transition: background-color 0.2s"
        onmouseover="this.style.backgroundColor='#f8f9fa'"
        onmouseout="this.style.backgroundColor='white'"
      >
        <div>
          <i class="bi bi-play-circle me-2 text-primary"></i>
          <a class = "text-decoration-none text-black" target="_blank" [href]="lesson.link">{{ lesson.title }}</a>
          <span class="text-muted small ms-3">{{ lesson.duration }}:00</span>
        </div>
      </li>
    </ul>
  </div>
</div>

<div *ngIf="activeTab === 'enrolledStudents'">
  <div class="card p-4 mb-4">
    <h5 class="fw-bold mb-3">Enrolled Students</h5>

    <table class="table table-striped">
      <thead>
        <tr>
          <th>Student Name</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let enroll of enrollmentStudents; let i = index">
          <td>{{ enroll }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div *ngIf="activeTab === 'resources'">
 <div class="card p-4 mb-4">
    <h5 class="fw-bold mb-3">Course Resources</h5>
    <ul class="list-group list-group-flush">
      <li
        *ngFor="let lesson of courseData?.Resources?.value; let i = index"
        class="list-group-item d-flex justify-content-between align-items-center"
        style="cursor: pointer; transition: background-color 0.2s"
        onmouseover="this.style.backgroundColor='#f8f9fa'"
        onmouseout="this.style.backgroundColor='white'"
      >
        <div>
          <i class="bi bi-play-circle me-2 text-primary"></i>
          <a class = "text-decoration-none text-black" target="_blank" [href]="lesson.link">{{ lesson.title }}</a>
          <span class="text-muted small ms-3">{{ lesson.description }}</span>
        </div>
      </li>
    </ul>
  </div></div>
